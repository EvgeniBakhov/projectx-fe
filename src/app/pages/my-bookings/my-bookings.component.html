<fury-page-layout mode="card">
    <fury-page-layout-content>
        <fury-list name="My Bookings" [columns]="displayedColumns" (filterChange)="onFilterChange($event)">
            <table [dataSource]="dataSource" mat-table>
                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> Id </th>
                    <td mat-cell *matCellDef="let element" class="clickable" (click)="navigateToBooking(element)">
                        {{element.id}} </td>
                </ng-container>

                <!-- Name Column -->
                <ng-container matColumnDef="estateId">
                    <th mat-header-cell *matHeaderCellDef> Estate </th>
                    <td mat-cell *matCellDef="let element" class="clickable" (click)="navigateToEstate(element)">
                        {{element.estate.id}} </td>
                </ng-container>

                <!-- Weight Column -->
                <ng-container matColumnDef="fromDate">
                    <th mat-header-cell *matHeaderCellDef> From </th>
                    <td mat-cell *matCellDef="let element"> {{element.fromDate | date: 'yyyy-MM-dd hh:mm'}}</td>
                </ng-container>

                <!-- Symbol Column -->
                <ng-container matColumnDef="toDate">
                    <th mat-header-cell *matHeaderCellDef> To </th>
                    <td mat-cell *matCellDef="let element"> {{element.toDate | date: 'yyyy-MM-dd hh:mm'}} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                </ng-container>

                <ng-container matColumnDef="totalPrice">
                    <th mat-header-cell *matHeaderCellDef> Total price </th>
                    <td mat-cell *matCellDef="let element"> {{element.totalPrice | number: '1.2-2'}} </td>
                </ng-container>

                <ng-container matColumnDef="cancel">
                    <th mat-header-cell *matHeaderCellDef></th>
                    <td mat-cell *matCellDef="let element"><span class="material-icons-outlined clickable"
                                                                 (click)="cancelBooking(element)"
                                                                 *ngIf="element.status !== 'CANCELLED'">cancel</span></td>
                </ng-container>


                <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
                <tr
                    *matRowDef="let row; columns: displayedColumns;"
                    class="route-animations-elements"
                    mat-row></tr>
            </table>

            <mat-paginator class="paginator" [pageSize]="pageSize"></mat-paginator>

        </fury-list>

    </fury-page-layout-content>
</fury-page-layout>

