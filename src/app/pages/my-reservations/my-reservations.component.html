<fury-page-layout mode="card">
    <fury-page-layout-content>
        <fury-list name="My Reservations" [columns]="displayedColumns" (filterChange)="onFilterChange($event)">
            <table [dataSource]="dataSource" mat-table>

                <ng-container matColumnDef="id">
                    <th mat-header-cell *matHeaderCellDef> Id </th>
                    <td mat-cell *matCellDef="let element" class="clickable" (click)="navigateToReservation(element)">
                        {{element.id}} </td>
                </ng-container>

                <ng-container matColumnDef="eventId">
                    <th mat-header-cell *matHeaderCellDef> Event id </th>
                    <td mat-cell *matCellDef="let element" class="clickable" (click)="navigateToEvent(element)">
                        {{element.event.id}} </td>
                </ng-container>

                <ng-container matColumnDef="eventName">
                    <th mat-header-cell *matHeaderCellDef> Event name </th>
                    <td mat-cell *matCellDef="let element">
                        {{element.event.name}} </td>
                </ng-container>

                <ng-container matColumnDef="fromDate">
                    <th mat-header-cell *matHeaderCellDef> Event starts </th>
                    <td mat-cell *matCellDef="let element"> {{element.event.startDate | date: 'yyyy-MM-dd hh:mm'}}</td>
                </ng-container>

                <ng-container matColumnDef="toDate">
                    <th mat-header-cell *matHeaderCellDef> Event ends </th>
                    <td mat-cell *matCellDef="let element"> {{element.event.endDate | date: 'yyyy-MM-dd hh:mm'}} </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef> Status </th>
                    <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                </ng-container>

                <ng-container matColumnDef="cancel">
                    <th mat-header-cell *matHeaderCellDef> Cancel </th>
                    <td mat-cell *matCellDef="let element"><span class="material-icons-outlined clickable"
                                                                 (click)="cancelReservation(element)"
                                                                 *ngIf="element.status !== 'CANCELLED'">cancel</span></td>
                </ng-container>


                <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
                <tr
                        *matRowDef="let row; columns: displayedColumns;"
                        class="route-animations-elements"
                        mat-row></tr>
            </table>

            <mat-paginator class="paginator" [pageSize]="pageSize"></mat-paginator>

        </fury-list>

    </fury-page-layout-content>
</fury-page-layout>


